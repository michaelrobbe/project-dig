<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Project Dig - g79</title>
	<style>
.obj {
	float: right;
}
	</style>
</head>
<body>
	<div class="obj">
		<ul>
			<li>Game Object</li>
			<li>Story Object</li>
			<li>Player Obj</li>
			<li>Save / Load</li>
			<li>Actions Obj</li>
			<ul>
				<li>Reach Out</li>
				<li>Mission: Start Fire</li>
				<li>Get Sticks, + Rock + Flint</li>
				<li>Action Set MiniGame(Grind Tinder, Strike Rock, Sparks, Stoke) = Start Fire</li>
				<li>Story: Mist Retreats</li>
				<li>Mission: Keep Fire Lit</li>
				<li>Feed fire</li>
				<li>Build Torch</li>
				<li>Find Suitable Firewood</li>
				<li>Build sleeping mat</li>
				<li>Story Success: Energized</li>
			</ul>
		</ul>
	</div>
	<div class="story"></div>
	<div class="action"></div>
	<div class="firebuilding"></div>

<script type="text/javascript">

class Game {
	constructor() {
		console.log('Game Constructed');

		var ui = new UI();
		var player = new Player();
		this.init(ui, player);
	}

	save() {
		localStorage.setItem('inv', JSON.stringify(this.inv));
		console.log('Game Saved', this.inv);
	}

	load() {
		var loadGame = localStorage.getItem('inv');
		if(!loadGame) {
			console.log('New Game');
		}
		else {
			this.inv = JSON.parse(loadGame);
			console.log('Game Loaded');
		}
	}

	init(ui, player) {
		this.load();
		// console.log(ui);
		console.log(ui);
		ui.createAction('Reach Out', 'reach', 'action');
	}

	reachOut() {

	}
}

class UI {
	constructor() {
		console.log('UI Constructed');
	}

	createAction(label, id, target) {
			var button = document.createElement('button');
			button.value = label;
			button.innerHTML = label;
			button.id = id;
			button.addEventListener('click', () => {
				console.log('Action Clicked');
			});

			var domTarget = document.getElementById(target);
			document.body.appendChild(button);
	}
}

class Player {
	constructor() {
		this.storyProgress = 0;
		console.log('Player Constructed');
	}
}

var g = new Game();
</script>
</body>
</html>